<div class="fixed inset-0 bg-black/80 flex items-center justify-center p-4 backdrop-blur-sm z-50 transition-opacity duration-300">
    <div class="bg-gray-900 border border-gray-600 rounded-lg shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col">
        
        <div class="flex justify-between items-center p-4 border-b border-gray-700">
            <h3 class="text-lg font-bold text-white">Log Inspector <span class="text-gray-500 text-sm">PID {{ pid }}</span></h3>
            <button onclick="closeModal()" class="text-gray-400 hover:text-white font-bold text-xl">&times;</button>
        </div>

        <div class="flex-1 flex overflow-hidden">
            {% if files.is_empty() %}
                <div class="p-8 text-center w-full text-gray-500">
                    No open log files found for this process.
                </div>
            {% else %}
                <div class="w-1/3 border-r border-gray-700 overflow-y-auto bg-gray-800/50">
                    {% for file in files %}
                    <button 
                        hx-get="/logs/read?path={{ file }}&rate=2&node={{ current_node }}" 
                        hx-target="#log-stream-area" 
                        hx-params="none"
                        class="block w-full text-left px-4 py-3 text-xs text-gray-300 hover:bg-gray-700 border-b border-gray-700/50 truncate transition-colors focus:bg-gray-700 focus:text-white">
                        ðŸ“„ {{ file }}
                    </button>
                    {% endfor %}
                </div>

                <div id="log-stream-area" class="w-2/3 bg-black p-4 overflow-y-auto font-mono text-xs text-green-400 leading-relaxed">
                    <div class="flex items-center justify-center h-full text-gray-600">
                        Select a file on the left to stream...
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>